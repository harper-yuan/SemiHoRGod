set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${PROJECT_BINARY_DIR}/tests_SemiHoRGod)

add_executable(io_test io.cpp)
target_link_libraries(io_test Boost::unit_test_framework Threads::Threads EMPTool SemiHoRGod SemiHoRGod)

add_executable(utils_test utils.cpp)
target_link_libraries(utils_test Boost::unit_test_framework Threads::Threads SemiHoRGod SemiHoRGod)

add_executable(ijmp_test ijmp.cpp)
target_link_libraries(ijmp_test Boost::unit_test_framework Threads::Threads SemiHoRGod SemiHoRGod)

add_executable(online_test online.cpp)
target_link_libraries(online_test Boost::unit_test_framework Threads::Threads SemiHoRGod)

add_executable(offline_online_test offline_online.cpp)
target_link_libraries(offline_online_test Boost::unit_test_framework Threads::Threads SemiHoRGod)

add_custom_target(tests_SemiHoRGod)
add_dependencies(tests_SemiHoRGod io_test utils_test online_test offline_online_test)

# add_dependencies(tests_SemiHoRGod io_test utils_test )

add_test(NAME io_test COMMAND io_test)
add_test(NAME utils_test COMMAND utils_test)
add_test(NAME ijmp_test COMMAND ijmp_test)
add_test(NAME online_test COMMAND online_test)
add_test(NAME offline_online_test COMMAND offline_online_test)